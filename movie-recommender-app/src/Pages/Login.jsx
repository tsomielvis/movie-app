import React, { useState } from 'react';
import Home from './Home';
import { Link } from 'react-router-dom';
import { useNavigate } from 'react-router-dom';
import './Components/styles/Login.css'

function Login({ setIsLoggedIn }) {
    const navigate = useNavigate();

    const [enteredUsername, setEnteredUsername] = useState('')
    const [enteredPassword, setEnteredPassword] = useState('')
    const [username, setUsername] = useState('');
    const [password, setPassword] = useState('');
    const [showSignUp, setShowSignUp] = useState(true);
    const [confirmPassword, setConfirmPassword] = useState('');

    // const [isCorrect, setIsCorrect] = useState(false)

    const handleUsernameChange = (e) => {
        setUsername(e.target.value);
    };

    const handleEnteredUsernameChange = (e) => {

        setEnteredUsername(e.target.value);
        console.log(e.target.value)
        setUsername(e.target.value);
    };

    const handlePasswordChange = (e) => {
        setPassword(e.target.value);
    };
    const handleEnteredPasswordChange = (e) => {
        setEnteredPassword(e.target.value);
        console.log(e.target.value);
        setPassword(e.target.value);

    };
    const handleConfirmPasswordChange = (e) => {
        setConfirmPassword(e.target.value);

    };

    const handleSignUpToggle = () => {
        setShowSignUp(!showSignUp);

    };

    const savePassword = () => {
        setPassword((prevPasswords) => [...prevPasswords, password]);
    };
    const saveUsername = () => {
        setUsername((prevUsername) => [...prevUsername, username]);
    };

    const handleSignUp = (e) => {
        e.preventDefault();

        console.log('Username:', username);
        console.log('Password:', password);
        savePassword();
        saveUsername();

        setIsLoggedIn(true);
        navigate('/Home');
    };



    const handleSubmit = (e) => {
        e.preventDefault();
        // console.log("ITS ON");

        // const hasUserName = username.includes(enteredUsername);
        // console.log(enteredPassword)
        // const hasPassword = password.includes(enteredPassword);

        const hasUserName = username === enteredUsername;
        const hasPassword = password === enteredPassword;

        if (hasPassword && hasUserName) {
            setIsLoggedIn(true);

            console.log(username)

            navigate('/Home');

        }
        else
            if (enteredUsername === "admin" && enteredPassword === "12345678") {

                setIsLoggedIn(true);
                // alert('Success');
                console.log(enteredPassword)
                navigate('/Home');


            }
            else {
                alert('Invalid credentials: Retry');
                console.log('Invalid credentials'); // Display an error message or perform appropriate action
            }
    };

    if (showSignUp) {
        return (
            <div className='loginPage'>
                {/* <img src="./Pages/Components/images/MoodFlix.svg" alt="" /> */}
                <div className="imageLogo">
                    <svg width="216" height="39" viewBox="0 0 216 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M0.101726 2.31273H9.4069L19.2348 26.2901H19.6531L29.481 2.31273H38.7862V38H31.4675V14.7719H31.1713L21.9358 37.8257H16.9521L7.71664 14.6848H7.42041V38H0.101726V2.31273ZM56.9565 38.5228C54.2498 38.5228 51.909 37.9477 49.9341 36.7976C47.9708 35.636 46.4548 34.0212 45.3861 31.9534C44.3173 29.8739 43.7829 27.4634 43.7829 24.7218C43.7829 21.957 44.3173 19.5407 45.3861 17.4728C46.4548 15.3934 47.9708 13.7787 49.9341 12.6286C51.909 11.4669 54.2498 10.886 56.9565 10.886C59.6633 10.886 61.9983 11.4669 63.9616 12.6286C65.9364 13.7787 67.4583 15.3934 68.527 17.4728C69.5958 19.5407 70.1302 21.957 70.1302 24.7218C70.1302 27.4634 69.5958 29.8739 68.527 31.9534C67.4583 34.0212 65.9364 35.636 63.9616 36.7976C61.9983 37.9477 59.6633 38.5228 56.9565 38.5228ZM56.9914 32.7724C58.2228 32.7724 59.2509 32.4239 60.0757 31.7268C60.9005 31.0182 61.522 30.054 61.9402 28.8342C62.37 27.6144 62.5849 26.2262 62.5849 24.6695C62.5849 23.1129 62.37 21.7247 61.9402 20.5049C61.522 19.2851 60.9005 18.3209 60.0757 17.6123C59.2509 16.9036 58.2228 16.5493 56.9914 16.5493C55.7484 16.5493 54.7028 16.9036 53.8548 17.6123C53.0184 18.3209 52.3853 19.2851 51.9554 20.5049C51.5372 21.7247 51.3281 23.1129 51.3281 24.6695C51.3281 26.2262 51.5372 27.6144 51.9554 28.8342C52.3853 30.054 53.0184 31.0182 53.8548 31.7268C54.7028 32.4239 55.7484 32.7724 56.9914 32.7724ZM87.0502 38.5228C84.3435 38.5228 82.0027 37.9477 80.0278 36.7976C78.0645 35.636 76.5485 34.0212 75.4798 31.9534C74.411 29.8739 73.8766 27.4634 73.8766 24.7218C73.8766 21.957 74.411 19.5407 75.4798 17.4728C76.5485 15.3934 78.0645 13.7787 80.0278 12.6286C82.0027 11.4669 84.3435 10.886 87.0502 10.886C89.757 10.886 92.092 11.4669 94.0553 12.6286C96.0301 13.7787 97.552 15.3934 98.6207 17.4728C99.6895 19.5407 100.224 21.957 100.224 24.7218C100.224 27.4634 99.6895 29.8739 98.6207 31.9534C97.552 34.0212 96.0301 35.636 94.0553 36.7976C92.092 37.9477 89.757 38.5228 87.0502 38.5228ZM87.0851 32.7724C88.3165 32.7724 89.3446 32.4239 90.1694 31.7268C90.9942 31.0182 91.6157 30.054 92.0339 28.8342C92.4637 27.6144 92.6787 26.2262 92.6787 24.6695C92.6787 23.1129 92.4637 21.7247 92.0339 20.5049C91.6157 19.2851 90.9942 18.3209 90.1694 17.6123C89.3446 16.9036 88.3165 16.5493 87.0851 16.5493C85.8421 16.5493 84.7966 16.9036 83.9485 17.6123C83.1121 18.3209 82.479 19.2851 82.0491 20.5049C81.6309 21.7247 81.4218 23.1129 81.4218 24.6695C81.4218 26.2262 81.6309 27.6144 82.0491 28.8342C82.479 30.054 83.1121 31.0182 83.9485 31.7268C84.7966 32.4239 85.8421 32.7724 87.0851 32.7724ZM114.914 38.4356C112.881 38.4356 111.039 37.9129 109.39 36.8673C107.752 35.8102 106.451 34.2593 105.486 32.2148C104.534 30.1586 104.057 27.6377 104.057 24.6521C104.057 21.5852 104.551 19.0353 105.539 17.0024C106.526 14.9578 107.839 13.4301 109.477 12.4195C111.126 11.3972 112.933 10.886 114.896 10.886C116.395 10.886 117.643 11.1416 118.643 11.6528C119.653 12.1523 120.466 12.7796 121.082 13.5347C121.709 14.2782 122.186 15.0101 122.511 15.7303H122.738V2.31273H130.143V38H122.825V33.7133H122.511C122.162 34.4568 121.669 35.1945 121.03 35.9264C120.403 36.6466 119.584 37.2449 118.573 37.7212C117.574 38.1975 116.354 38.4356 114.914 38.4356ZM117.266 32.5284C118.462 32.5284 119.473 32.2031 120.298 31.5526C121.134 30.8904 121.773 29.9669 122.215 28.7819C122.668 27.597 122.894 26.2088 122.894 24.6173C122.894 23.0258 122.674 21.6433 122.232 20.47C121.791 19.2967 121.152 18.3906 120.315 17.7517C119.479 17.1127 118.462 16.7933 117.266 16.7933C116.046 16.7933 115.018 17.1243 114.182 17.7865C113.345 18.4487 112.712 19.3664 112.282 20.5397C111.852 21.713 111.638 23.0722 111.638 24.6173C111.638 26.1739 111.852 27.5506 112.282 28.7471C112.724 29.932 113.357 30.8614 114.182 31.5352C115.018 32.1973 116.046 32.5284 117.266 32.5284Z" fill="white" />
                        <path d="M136.386 38V2.31273H160.015V8.5336H143.931V17.0372H158.447V23.2581H143.931V38H136.386ZM172.374 2.31273V38H164.951V2.31273H172.374ZM178.32 38V11.2345H185.743V38H178.32ZM182.049 7.78431C180.946 7.78431 179.999 7.41838 179.209 6.68651C178.431 5.94302 178.041 5.05433 178.041 4.02042C178.041 2.99813 178.431 2.12105 179.209 1.38918C179.999 0.645694 180.946 0.273951 182.049 0.273951C183.153 0.273951 184.094 0.645694 184.872 1.38918C185.662 2.12105 186.057 2.99813 186.057 4.02042C186.057 5.05433 185.662 5.94302 184.872 6.68651C184.094 7.41838 183.153 7.78431 182.049 7.78431ZM197.893 11.2345L202.807 20.592L207.843 11.2345H215.458L207.704 24.6173L215.667 38H208.087L202.807 28.7471L197.615 38H189.947L197.893 24.6173L190.226 11.2345H197.893Z" fill="#FFC123" />
                    </svg>

                </div>
                <h2>Login To your account</h2>
                <form onSubmit={handleSubmit} >
                    <div className="formContainer">
                        <div className='form login'>
                            {/* <label htmlFor="username"></label> */}
                            <input
                                type="text"
                                id="username"
                                value={enteredUsername}
                                onChange={handleEnteredUsernameChange}
                                placeholder='Username'
                            />
                        </div>
                        <div className='form login'>
                            {/* <label htmlFor="password"></label> */}
                            <input
                                type="password"
                                id="password"
                                value={enteredPassword}
                                onChange={handleEnteredPasswordChange}
                                placeholder='Password'
                            />
                        </div>
                    </div>
                    <div className="btnsBar1">
                        <button type="submit" onClick={handleSubmit}>
                            Login
                        </button>
                        {/* <button type="submit" onClick={handleSignUpToggle}>
                            Sign Up
                        </button> */}
                        <div className="signUp">
                            Don't have an account ?
                            <a onClick={handleSignUpToggle} href="#" >Sign Up</a>
                        </div>
                    </div>
                </form>

            </div>
        );
    }
    return (
        <div className='loginPage'>
            <div className="imageLogo">
                <svg width="216" height="39" viewBox="0 0 216 39" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M0.101726 2.31273H9.4069L19.2348 26.2901H19.6531L29.481 2.31273H38.7862V38H31.4675V14.7719H31.1713L21.9358 37.8257H16.9521L7.71664 14.6848H7.42041V38H0.101726V2.31273ZM56.9565 38.5228C54.2498 38.5228 51.909 37.9477 49.9341 36.7976C47.9708 35.636 46.4548 34.0212 45.3861 31.9534C44.3173 29.8739 43.7829 27.4634 43.7829 24.7218C43.7829 21.957 44.3173 19.5407 45.3861 17.4728C46.4548 15.3934 47.9708 13.7787 49.9341 12.6286C51.909 11.4669 54.2498 10.886 56.9565 10.886C59.6633 10.886 61.9983 11.4669 63.9616 12.6286C65.9364 13.7787 67.4583 15.3934 68.527 17.4728C69.5958 19.5407 70.1302 21.957 70.1302 24.7218C70.1302 27.4634 69.5958 29.8739 68.527 31.9534C67.4583 34.0212 65.9364 35.636 63.9616 36.7976C61.9983 37.9477 59.6633 38.5228 56.9565 38.5228ZM56.9914 32.7724C58.2228 32.7724 59.2509 32.4239 60.0757 31.7268C60.9005 31.0182 61.522 30.054 61.9402 28.8342C62.37 27.6144 62.5849 26.2262 62.5849 24.6695C62.5849 23.1129 62.37 21.7247 61.9402 20.5049C61.522 19.2851 60.9005 18.3209 60.0757 17.6123C59.2509 16.9036 58.2228 16.5493 56.9914 16.5493C55.7484 16.5493 54.7028 16.9036 53.8548 17.6123C53.0184 18.3209 52.3853 19.2851 51.9554 20.5049C51.5372 21.7247 51.3281 23.1129 51.3281 24.6695C51.3281 26.2262 51.5372 27.6144 51.9554 28.8342C52.3853 30.054 53.0184 31.0182 53.8548 31.7268C54.7028 32.4239 55.7484 32.7724 56.9914 32.7724ZM87.0502 38.5228C84.3435 38.5228 82.0027 37.9477 80.0278 36.7976C78.0645 35.636 76.5485 34.0212 75.4798 31.9534C74.411 29.8739 73.8766 27.4634 73.8766 24.7218C73.8766 21.957 74.411 19.5407 75.4798 17.4728C76.5485 15.3934 78.0645 13.7787 80.0278 12.6286C82.0027 11.4669 84.3435 10.886 87.0502 10.886C89.757 10.886 92.092 11.4669 94.0553 12.6286C96.0301 13.7787 97.552 15.3934 98.6207 17.4728C99.6895 19.5407 100.224 21.957 100.224 24.7218C100.224 27.4634 99.6895 29.8739 98.6207 31.9534C97.552 34.0212 96.0301 35.636 94.0553 36.7976C92.092 37.9477 89.757 38.5228 87.0502 38.5228ZM87.0851 32.7724C88.3165 32.7724 89.3446 32.4239 90.1694 31.7268C90.9942 31.0182 91.6157 30.054 92.0339 28.8342C92.4637 27.6144 92.6787 26.2262 92.6787 24.6695C92.6787 23.1129 92.4637 21.7247 92.0339 20.5049C91.6157 19.2851 90.9942 18.3209 90.1694 17.6123C89.3446 16.9036 88.3165 16.5493 87.0851 16.5493C85.8421 16.5493 84.7966 16.9036 83.9485 17.6123C83.1121 18.3209 82.479 19.2851 82.0491 20.5049C81.6309 21.7247 81.4218 23.1129 81.4218 24.6695C81.4218 26.2262 81.6309 27.6144 82.0491 28.8342C82.479 30.054 83.1121 31.0182 83.9485 31.7268C84.7966 32.4239 85.8421 32.7724 87.0851 32.7724ZM114.914 38.4356C112.881 38.4356 111.039 37.9129 109.39 36.8673C107.752 35.8102 106.451 34.2593 105.486 32.2148C104.534 30.1586 104.057 27.6377 104.057 24.6521C104.057 21.5852 104.551 19.0353 105.539 17.0024C106.526 14.9578 107.839 13.4301 109.477 12.4195C111.126 11.3972 112.933 10.886 114.896 10.886C116.395 10.886 117.643 11.1416 118.643 11.6528C119.653 12.1523 120.466 12.7796 121.082 13.5347C121.709 14.2782 122.186 15.0101 122.511 15.7303H122.738V2.31273H130.143V38H122.825V33.7133H122.511C122.162 34.4568 121.669 35.1945 121.03 35.9264C120.403 36.6466 119.584 37.2449 118.573 37.7212C117.574 38.1975 116.354 38.4356 114.914 38.4356ZM117.266 32.5284C118.462 32.5284 119.473 32.2031 120.298 31.5526C121.134 30.8904 121.773 29.9669 122.215 28.7819C122.668 27.597 122.894 26.2088 122.894 24.6173C122.894 23.0258 122.674 21.6433 122.232 20.47C121.791 19.2967 121.152 18.3906 120.315 17.7517C119.479 17.1127 118.462 16.7933 117.266 16.7933C116.046 16.7933 115.018 17.1243 114.182 17.7865C113.345 18.4487 112.712 19.3664 112.282 20.5397C111.852 21.713 111.638 23.0722 111.638 24.6173C111.638 26.1739 111.852 27.5506 112.282 28.7471C112.724 29.932 113.357 30.8614 114.182 31.5352C115.018 32.1973 116.046 32.5284 117.266 32.5284Z" fill="white" />
                    <path d="M136.386 38V2.31273H160.015V8.5336H143.931V17.0372H158.447V23.2581H143.931V38H136.386ZM172.374 2.31273V38H164.951V2.31273H172.374ZM178.32 38V11.2345H185.743V38H178.32ZM182.049 7.78431C180.946 7.78431 179.999 7.41838 179.209 6.68651C178.431 5.94302 178.041 5.05433 178.041 4.02042C178.041 2.99813 178.431 2.12105 179.209 1.38918C179.999 0.645694 180.946 0.273951 182.049 0.273951C183.153 0.273951 184.094 0.645694 184.872 1.38918C185.662 2.12105 186.057 2.99813 186.057 4.02042C186.057 5.05433 185.662 5.94302 184.872 6.68651C184.094 7.41838 183.153 7.78431 182.049 7.78431ZM197.893 11.2345L202.807 20.592L207.843 11.2345H215.458L207.704 24.6173L215.667 38H208.087L202.807 28.7471L197.615 38H189.947L197.893 24.6173L190.226 11.2345H197.893Z" fill="#FFC123" />
                </svg>

            </div>
            <h2>Sign Up</h2>
            <form onSubmit={handleSignUp} >
                <div className="formContainer">


                    <div className='form login'>
                        <label htmlFor="username"></label>
                        <input
                            type="text"
                            id="username"
                            value={username}
                            placeholder='Create a User'
                            onChange={handleUsernameChange}
                        />
                    </div>
                    <div className='form login'>
                        <label htmlFor="password"></label>
                        <input
                            type="password"
                            id="password"
                            value={password}
                            placeholder='Enter Password'
                            onChange={handlePasswordChange}
                        />
                    </div>
                    <div className='form login'>
                        <label htmlFor="password"></label>
                        <input
                            type="password"
                            id="password"
                            value={password}
                            placeholder='Confirm Password'
                            onChange={handleConfirmPasswordChange}
                        />
                    </div>
                </div>
                <div className="btnsBar1">
                    <button type="submit">
                        {/* <button type="submit" onClick={handleSignUp}> */}
                        Create Your Account
                    </button>
                    {/* <button type="submit" onClick={handleSignUpToggle}>
                        Back to login.
                    </button> */}
                    <a className="loginButtonText" onClick={handleSignUpToggle} href="#">Back to Login</a>
                </div>
            </form>

        </div>


    );
}

export default Login;